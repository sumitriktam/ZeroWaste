{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reset Password</title>
    <link rel="stylesheet" href="{% static 'admin/css/changepassword.css' %}">
    <script>
        function validateForm() {
            var password = document.forms["form"]["new_password"].value;
            var confirmPassword = document.forms["form"]["reconfirm_password"].value;

            // Password length validation
            if (password.length < 8) {
                document.getElementById("errorMessage").innerHTML = "Password must be at least 8 characters long";
                document.getElementById("errorMessage").style.display = "block";
                return false;
            }

            // Confirm password validation
            if (password !== confirmPassword) {
                document.getElementById("errorMessage").innerHTML = "Passwords do not match";
                document.getElementById("errorMessage").style.display = "block";
                return false;
            }

            return true;
        }
    </script>
</head>
<body>
    <div class="head">
        <img src="{% static 'admin/media/simple-icons_overleaf.png' %}" alt="Overleaf Logo">
        <h1>ZeroWaste</h1>
    </div>

    <div class="container">
<<<<<<< HEAD
=======
        <div class="head">
            <img src="{% static 'admin/media/simple-icons_overleaf.png' %}" alt="Overleaf Logo">
            <h1>ZeroWaste</h1>
        </div>
>>>>>>> ab650a66b3375062a42473e15353448b889235e0
        <form method="post" class="form" id="form" onsubmit="return validateForm()">
            {% csrf_token %}
            <h2>Change Password</h2>
            {% if messages %}
                {% for message in messages %}
                    <div class="alert">
                        {{ message }}
                    </div>
                {% endfor %}
            {% endif %}
                <label for="password">New Password</label>
                <input type="password" name="new_password" class="form-control" placeholder="Enter your new password">
                <label for="password">Reconfirm Password</label>
                <input type="password" name="reconfirm_password" class="form-control" placeholder="Reconfirm your password">
                <input type="hidden" name="user_id" value="{{user_id}}">
                <input type="submit" value="Submit">
        </form>
        <div id="errorMessage" style="display: none; color: red;"></div>
    </div>
</body>
</html>
